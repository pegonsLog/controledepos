<div class="dashboard-container">
  <!-- Cabeçalho com filtros de data -->
  <mat-card class="header-card">
    <mat-card-header>
      <mat-card-title>Dashboard de POs</mat-card-title>
      <mat-card-subtitle>Análise de POs por regional</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="filters-container center">
        <mat-form-field appearance="outline">
          <mat-label>Período de Análise</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="Data início" />
            <input matEndDate formControlName="end" placeholder="Data fim" (dateChange)="onDateChange()" />
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
        <button mat-icon-button color="primary" (click)="onDateChange()" matTooltip="Atualizar Gráficos">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Grid principal -->
  <div class="charts-grid">
    <!-- Linha 1: POs Elaborados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Elaborados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].elaborados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 2: POs Implantados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].implantados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 3: Comparativo -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card wide-card">
          <mat-card-header>
            <mat-card-title>Elaborados vs. Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-line-chart
              [scheme]="colorSchemeLine"
              [results]="dataByRegion[region].comparativo"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'"
              [autoScale]="true">
            </ngx-charts-line-chart>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>
  </div>
</div>
  <mat-card class="header-card">
    <mat-card-header>
      <mat-card-title>Dashboard de POs</mat-card-title>
      <mat-card-subtitle>Análise de POs por regional</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="filters-container center">
        <mat-form-field appearance="outline">
          <mat-label>Período de Análise</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="Data início" />
            <input matEndDate formControlName="end" placeholder="Data fim" (dateChange)="onDateChange()" />
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
        <button mat-icon-button color="primary" (click)="onDateChange()" matTooltip="Atualizar Gráficos">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Grid principal -->
  <div class="charts-grid">
    <!-- Linha 1 -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Elaborados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].elaborados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 2 -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].implantados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 3 -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card wide-card">
          <mat-card-header>
            <mat-card-title>Elaborados vs. Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-line-chart
              [scheme]="colorSchemeLine"
              [results]="dataByRegion[region].comparativo"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'"
              [autoScale]="true">
            </ngx-charts-line-chart>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>
  </div>
</div>
  <!-- Header com filtros de data -->
  <mat-card class="header-card">
    <mat-card-header>
      <mat-card-title>Dashboard de POs</mat-card-title>
      <mat-card-subtitle>Análise dos Pontos de Oferta por regional</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="filters-container center">
        <mat-form-field appearance="outline">
          <mat-label>Período de Análise</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="Data início" />
            <input matEndDate formControlName="end" placeholder="Data fim" (dateChange)="onDateChange()" />
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker" />
          <mat-date-range-picker #picker />
        </mat-form-field>
        <button mat-icon-button color="primary" (click)="onDateChange()" matTooltip="Atualizar Gráficos">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Grid principal -->
  <div class="charts-grid">
    <!-- Linha 1: POs Elaborados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Elaborados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].elaborados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 2: POs Implantados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].implantados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 3: Comparativo -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card wide-card">
          <mat-card-header>
            <mat-card-title>Elaborados vs. Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-line-chart
              [scheme]="colorSchemeLine"
              [results]="dataByRegion[region].comparativo"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'"
              [autoScale]="true">
            </ngx-charts-line-chart>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>
  </div>
</div>
    <mat-card-header>
      <mat-card-title>Dashboard de POs</mat-card-title>
      <mat-card-subtitle>Análise de performance e status dos Pontos de Oferta</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="filters-container center">
        <mat-form-field appearance="outline">
          <mat-label>Período de Análise</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="Data início">
            <input matEndDate formControlName="end" placeholder="Data fim" (dateChange)="onDateChange()">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
        <button mat-icon-button color="primary" (click)="onDateChange()" matTooltip="Atualizar Gráficos">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <div class="charts-grid">
    <!-- Linha 1: POs Elaborados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Elaborados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].elaborados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 2: POs Implantados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].implantados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 3: Comparativo -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card wide-card">
          <mat-card-header>
            <mat-card-title>Elaborados vs. Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-line-chart
              [scheme]="colorSchemeLine"
              [results]="dataByRegion[region].comparativo"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'"
              [autoScale]="true">
            </ngx-charts-line-chart>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>
  </div> <!-- charts-grid -->
</div>
    <mat-card-header>
      <mat-card-title>Dashboard de POs</mat-card-title>
      <mat-card-subtitle>Análise de performance e status dos Pontos de Oferta</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="filters-container center">
        <mat-form-field appearance="outline">
          <mat-label>Período de Análise</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="Data início">
            <input matEndDate formControlName="end" placeholder="Data fim" (dateChange)="onDateChange()">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
        <button mat-icon-button color="primary" (click)="onDateChange()" matTooltip="Atualizar Gráficos">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <div class="charts-grid">
    <h2 class="region-title">Região {{ region }}</h2>
    <div class="charts-grid">
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>POs Elaborados</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <ngx-charts-bar-vertical
          [scheme]="colorScheme"
          [results]="dataByRegion[region]?.elaborados"
          [gradient]="gradient"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [showDataLabel]="showDataLabel"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [xAxisLabel]="'Mês'"
          [yAxisLabel]="'Quantidade'">
        </ngx-charts-bar-vertical>
      </mat-card-content>
    </mat-card>

    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>POs Implantados</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <ngx-charts-bar-vertical
          [scheme]="colorScheme"
          [results]="dataByRegion[region]?.implantados"
          [gradient]="gradient"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [showDataLabel]="showDataLabel"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [xAxisLabel]="'Mês'"
          [yAxisLabel]="'Quantidade'">
        </ngx-charts-bar-vertical>
      </mat-card-content>
    </mat-card>

    <mat-card class="chart-card wide-card">
      <mat-card-header>
        <mat-card-title>Elaborados vs. Implantados</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <ngx-charts-line-chart
          [scheme]="colorSchemeLine"
          [results]="dataByRegion[region]?.comparativo"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [xAxisLabel]="'Mês'"
          [yAxisLabel]="'Quantidade'"
          [autoScale]="true">
        </ngx-charts-line-chart>
      </mat-card-content>
    </mat-card>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].elaborados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 2: Implantados -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>POs Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [scheme]="colorScheme"
              [results]="dataByRegion[region].implantados"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showDataLabel]="showDataLabel"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <!-- Linha 3: Comparativo -->
    <div class="charts-row">
      <ng-container *ngFor="let region of regions">
        <mat-card class="chart-card wide-card">
          <mat-card-header>
            <mat-card-title>Elaborados vs. Implantados - {{ region }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-line-chart
              [scheme]="colorSchemeLine"
              [results]="dataByRegion[region].comparativo"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="'Mês'"
              [yAxisLabel]="'Quantidade'"
              [autoScale]="true">
            </ngx-charts-line-chart>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>
  </div> <!-- charts-grid -->
</div>
